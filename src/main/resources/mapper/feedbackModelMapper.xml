<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="sast.evento.mapper.FeedbackModelMapper">

<!--    用户获取反馈列表-->
    <select id="getListByUserId" resultType="sast.evento.model.FeedbackModel">
        SELECT f.id, f.content, ROUND(f.score, 1) AS score, p.event_id AS eventId
        FROM feedback AS f
                 LEFT JOIN
             participate AS p ON f.participate_id = p.id
        WHERE f.user_id = #{userId}
    </select>

    <select id="getListByEventId" resultType="sast.evento.model.FeedbackModel">
        SELECT f.id, f.content, ROUND(f.score, 1) AS score, p.event_id AS eventId
        FROM feedback AS f
                 LEFT JOIN
             participate AS p ON f.participate_id = p.id
        WHERE p.event_id = #{eventId}
    </select>

</mapper>